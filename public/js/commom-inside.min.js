$(function(){function a(){$(".sortable__cards").removeClass("active").addClass("no-active"),$("#popular").find(".col-12").removeClass("col-lg-4").removeClass("col-md-6").removeClass("col-sm-6"),$(".popular__card").addClass("reverse-card")}function b(){$(".sortable__tables").removeClass("active").addClass("no-active"),$("#popular").find(".col-12").addClass("col-lg-4").addClass("col-md-6").addClass("col-sm-6"),$(".popular__card").removeClass("reverse-card")}var c=Cookies.get("type");"table"==c?($(".sortable__tables").removeClass("no-active").addClass("active"),a()):"cards"==c&&($(".sortable__cards").removeClass("no-active").addClass("active"),b()),0<$("input, textarea").length&&$("input, textarea").focus(function(){$(this).data("placeholder",$(this).attr("placeholder")).attr("placeholder","")}).blur(function(){$(this).attr("placeholder",$(this).data("placeholder"))}),0<$("input[type=tel]").length&&$("input[type=tel]").mask("+7 (999) 999 99 99"),$("#menuBtn").on("click",function(a){a.preventDefault(),991>=$(window).width()?($(this).toggleClass("menu-btn_active"),$(".drop-down").toggleClass("hidden").toggleClass("nav-opacity"),$("#drop-down").animate({width:"100%"},300),$("header, main").toggleClass("opacity")):($(this).toggleClass("menu-btn_active"),$(".drop-down").toggleClass("hidden"))}),$("body").on("click",".choose__mini-title-block",function(){$(this).next("ul").slideToggle(),$(this).closest(".choose").find(".choose__filter-button").fadeToggle(),$(this).find("img").toggleClass("rotate")}),$(".ui-slider__mini-title-block").on("click",function(){$(this).next(".ui-slider__amounts").slideToggle(),$(this).find("img").toggleClass("rotate")}),$(".title-goods__choose").on("click",function(){$(".filter, .selection").slideToggle()}),$(".sortable__tables").on("click",function(b){b.preventDefault(),$(this).hasClass("no-active")&&($(this).removeClass("no-active").addClass("active"),a(),Cookies.set("type","table"))}),$(".sortable__cards").on("click",function(a){a.preventDefault(),$(this).hasClass("no-active")&&($(this).removeClass("no-active").addClass("active"),b(),Cookies.set("type","cards"))}),$(".modal__close-modal").on("click",function(){$("#drop-down").animate({width:"1%"},300),setTimeout(function(){$(".drop-down").toggleClass("hidden").toggleClass("nav-opacity")},290),$("#menuBtn").toggleClass("menu-btn_active"),$("header, main").toggleClass("opacity")}),$("#search-input").focus(function(){$("#overlay").show(),$(".header__search").addClass("input-overlay")}),$("#overlay").on("click",function(){$(this).hide()}),$(".sub-footer__add-shop").magnificPopup({preloader:!0,focus:"#fio",callbacks:{beforeOpen:function(){this.st.focus=!(700>$(window).width())&&"#name"}}}),$(".shop-add__shop-card-no-border").magnificPopup({preloader:!0,focus:"#fio",callbacks:{beforeOpen:function(){700>$(window).width()?($("#addShop").find("button").css("pointer-events","unset"),this.st.focus=!1):($("#addShop").find("button").css("pointer-events","unset"),this.st.focus="#name")}}}),$("#countrySelect").on("change",function(){changeRegion()}),$(".header__select-block").magnificPopup({preloader:!0,callbacks:{beforeOpen:function(){getRegions(),this.st.focus=!(700>$(window).width())&&"#name"}}}),$("body").on("click",".add-shop__region",function(){var a=$(this).text();$(".header__select").text(a)}),$("body").on("click",".add-shop__region",function(){let a=new URL(window.location.href),b=a.hostname,c=b.split("."),d=$(this).attr("data-slug"),e=window.location.search;if(2==c.length)var f=a.protocol+"//"+d+"."+b+a.pathname;else var f=a.protocol+"//"+d+"."+c[1]+"."+c[2]+a.pathname;""!==e&&(f+=e),location.href=f,$.magnificPopup.close(),$("#countrySelect").find("option").remove()}),$("body").on("click",".add-shop__close",function(){$.magnificPopup.close(),$("#countrySelect").find("option").remove()})});
