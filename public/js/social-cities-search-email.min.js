$(function(){!function(t,e){if(!t.__utlWdgt){t.__utlWdgt=!0;var o=e,c=o.createElement("script");c.type="text/javascript",c.charset="UTF-8",c.async=!0,c.src=("https:"==t.location.protocol?"https":"http")+"://w.uptolike.com/widgets/v1/uptolike.js",o.getElementsByTagName("body")[0].appendChild(c)}}(window,document)});
function getCitiesByRegionId(a){$.ajax({type:"POST",url:"/get-cities-by-region-id/"+a,success:a=>{for(i=0;i<a.length;i++){let b="<a class=\"add-shop__region\" data-slug=\""+a[i].slug+"\" href=\"#\" title=\"#\">"+a[i].name_first_form+"</a>";$(".add-shop__regions-block").append(b)}}})}function getRegions(){$.ajax({type:"POST",url:"/get-regions",success:a=>{$("#countrySelect").select2();let b=$("#countrySelect");for(let c=0;c<a.length;c++)b.append($("<option />").val(a[c].id).text(a[c].name));$(".add-shop__regions-block").html(""),getCitiesByRegionId($("#countrySelect").val())}})}function changeRegion(){$.ajax({type:"POST",url:"/get-regions",success:()=>{$(".add-shop__regions-block").html(""),getCitiesByRegionId($("#countrySelect").val())}})}
$(function(){$(".header__search").submit(a=>{a.preventDefault(),""!==$("#search-input").val()&&(window.location.href="/search?query="+$("#search-input").val())})});
$(function(){$("#subscribeForm").submit(function(a){a.preventDefault(),$.ajax({type:"POST",url:$(this).attr("action"),data:$(this).serialize(),success:()=>{$("#email, #sucsessBtn").hide(),$("#subscrSuccsess").show()},error:function(){$("#email, #sucsessBtn").hide(),$("#subscrSuccsess").show().text("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430, \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443 \u0438 \u043F\u043E\u043F\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437")}})}),$("#addShop").submit(function(a){$(this).find("button").css("pointer-events","none"),a.preventDefault(),$.ajax({type:"POST",url:$(this).attr("action"),data:$(this).serialize(),success:()=>{$.magnificPopup.close(),$("input, textarea").val(""),$.magnificPopup.open({items:{src:"#thanks"}})},error:()=>{$.magnificPopup.close(),$("input, textarea").val(""),$.magnificPopup.open({items:{src:"#errorModal"}})}})})});
